<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Models/Role.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Attachment.html">Attachment</a></li><li><a href="Box.html">Box</a><ul class='methods'><li data-type='method'><a href="Box.html#array">array</a></li><li data-type='method'><a href="Box.html#ArrayOfKeys">ArrayOfKeys</a></li><li data-type='method'><a href="Box.html#delete">delete</a></li><li data-type='method'><a href="Box.html#find">find</a></li><li data-type='method'><a href="Box.html#first">first</a></li><li data-type='method'><a href="Box.html#set">set</a></li></ul></li><li><a href="CategoryChannel.html">CategoryChannel</a></li><li><a href="Client.html">Client</a></li><li><a href="ClientUser.html">ClientUser</a><ul class='methods'><li data-type='method'><a href="ClientUser.html#setGame">setGame</a></li><li data-type='method'><a href="ClientUser.html#setStatus">setStatus</a></li></ul></li><li><a href="DMChannel.html">DMChannel</a><ul class='methods'><li data-type='method'><a href="DMChannel.html#send">send</a></li></ul></li><li><a href="EmbedMessage.html">EmbedMessage</a><ul class='methods'><li data-type='method'><a href="EmbedMessage.html#color">color</a></li><li data-type='method'><a href="EmbedMessage.html#newAuthor">newAuthor</a></li><li data-type='method'><a href="EmbedMessage.html#newDescription">newDescription</a></li><li data-type='method'><a href="EmbedMessage.html#newField">newField</a></li><li data-type='method'><a href="EmbedMessage.html#newFooter">newFooter</a></li><li data-type='method'><a href="EmbedMessage.html#newImage">newImage</a></li><li data-type='method'><a href="EmbedMessage.html#newProvider">newProvider</a></li><li data-type='method'><a href="EmbedMessage.html#newThumbnail">newThumbnail</a></li><li data-type='method'><a href="EmbedMessage.html#newTitle">newTitle</a></li><li data-type='method'><a href="EmbedMessage.html#newVideo">newVideo</a></li></ul></li><li><a href="Emoji.html">Emoji</a></li><li><a href="Game.html">Game</a></li><li><a href="GroupDM.html">GroupDM</a><ul class='methods'><li data-type='method'><a href="GroupDM.html#send">send</a></li></ul></li><li><a href="Guild.html">Guild</a><ul class='methods'><li data-type='method'><a href="Guild.html#banMember">banMember</a></li><li data-type='method'><a href="Guild.html#changeName">changeName</a></li><li data-type='method'><a href="Guild.html#createChannel">createChannel</a></li><li data-type='method'><a href="Guild.html#delete">delete</a></li><li data-type='method'><a href="Guild.html#deleteChannel">deleteChannel</a></li><li data-type='method'><a href="Guild.html#getMember">getMember</a></li><li data-type='method'><a href="Guild.html#unbanMember">unbanMember</a></li></ul></li><li><a href="GuildMember.html">GuildMember</a><ul class='methods'><li data-type='method'><a href="GuildMember.html#ban">ban</a></li><li data-type='method'><a href="GuildMember.html#toString">toString</a></li></ul></li><li><a href="GuildTextChannel.html">GuildTextChannel</a><ul class='methods'><li data-type='method'><a href="GuildTextChannel.html#send">send</a></li></ul></li><li><a href="Invite.html">Invite</a></li><li><a href="Message.html">Message</a></li><li><a href="Presence.html">Presence</a></li><li><a href="Role.html">Role</a><ul class='methods'><li data-type='method'><a href="Role.html#changeName">changeName</a></li><li data-type='method'><a href="Role.html#changePosition">changePosition</a></li><li data-type='method'><a href="Role.html#delete">delete</a></li><li data-type='method'><a href="Role.html#modify">modify</a></li></ul></li><li><a href="Structure.html">Structure</a></li><li><a href="TextBasedChannel.html">TextBasedChannel</a><ul class='methods'><li data-type='method'><a href="TextBasedChannel.html#send">send</a></li></ul></li><li><a href="User.html">User</a><ul class='methods'><li data-type='method'><a href="User.html#toString">toString</a></li></ul></li><li><a href="VoiceChannel.html">VoiceChannel</a></li></ul><h3>Events</h3><ul><li><a href="Client.html#event:Channel_Create">Channel_Create</a></li><li><a href="Client.html#event:Channel_Delete">Channel_Delete</a></li><li><a href="Client.html#event:Channel_Update">Channel_Update</a></li><li><a href="Client.html#event:Guild_Create">Guild_Create</a></li><li><a href="Client.html#event:Guild_newMember">Guild_newMember</a></li><li><a href="Client.html#event:Guild_Role_Create">Guild_Role_Create</a></li><li><a href="Client.html#event:Guild_Role_Delete">Guild_Role_Delete</a></li><li><a href="Client.html#event:Guild_Role_Update">Guild_Role_Update</a></li><li><a href="Client.html#event:Guild_Update">Guild_Update</a></li><li><a href="Client.html#event:Message_Create">Message_Create</a></li><li><a href="Client.html#event:Message_Update">Message_Update</a></li><li><a href="Client.html#event:ready">ready</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Models/Role.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const Structure = require('./Structure.js');

/**
* A GuildRole Structure meant to control over GuildRole properties and methods
* @extends Structure
* @param {Object} client ArtzyCord's Client instance
* @param {Object} guild A valid Guild instance
* @param {Object} role A valid Role data Object
*/
class Role extends Structure {
  constructor(client, guild, role) {
    super(client);
    Object.defineProperty(this, 'guild', {value: guild});
    this.mentionable = role.mentionable;
    this.position = role.position;
    this.name = role.name;
    this.managed = role.managed;
    this.color = role.color;
    this.permissions = role.permissions;
    this.id = role.id;
    this.hoist = role.hoist;
  }


  /**
  * Deletes a Role out of the guild
  * @returns {Promise}
  * @example
  * Role.delete()
  *   .catch(e => console.error(e));
  */
  async delete() {
    const url = this.client.APIManager.endpoints.ENDPOINTS_GUILDS.roles.delete(this.guild.id, this.id);
    try {
      await this.client.APIManager.makeRequest('delete', url)
    } catch (e) {
      throw e;
    }
  }

  /**
  * @param name A new name you want the role to have
  * @returns {Promise} Returns a updated Role instance
  * @example
  * Role.changeName('ArtzyCord')
  *   .then(role => console.log(`Hey! this is the new Role name: ${role.name}`))
  *   .catch(e => console.error(e));
  */
  async changeName(name) {
    if (!name) throw 'Please supply a name to change'
    const url = this.client.APIManager.endpoints.ENDPOINTS_GUILDS.roles.modify(this.guild.id, this.id);
    const payload = {
      name: name ? name : null
    };

    try {
      let request = await this.client.APIManager.makeRequest('patch', url, payload)
      return new Role(this.client, this.guild, request)
    } catch (e) {
      throw e;
    }
  }


  /**
  * @param {Object} options The option keys
  * @param {String} [options.name = "new role"] The name of the role
  * @param {Number} [options.permissions = "@everyone permissions"] bitwise of the enabled or disabled permissions
  * @param {Number} [options.color = 0] The RGB volor value
  * @param {Boolean} [options.hoist = false] Whether the role should be displayed separately in the sidebar
  * @param {Boolean} [options.mentionable = false] Whether the role should ne mentionable
  * @example
  * // Modifing a role to be an Admin role
  * Role.modify({name: "Administrator", permissions: "0x8", color: "0xCE2E2E", hoist: true, mentionable: false})
  *   .then(role => console.log('Modified a role to be an Administrator'))
  *   .catch(e => console.error(e))
  */
  async modify(options) {
    let payload = {}
    let keys = Object.keys(options) // Prevent looping too much
    const url = this.client.APIManager.endpoints.ENDPOINTS_GUILDS.roles.modify(this.guild.id, this.id);
    if (keys.length === 1) {
      payload[keys[0]] = options[keys[0]]
    } else {
      keys.forEach(key => {
        payload[key] = options[key]
      });
    }
    try {
      const request = await this.client.APIManager.makeRequest('patch', url, payload)
      return new Role(this.client, this.guild, request)
    } catch (e) {
      throw e
    }
  }

  /**
  * @param {Number} position The role's position
  * @returns {Promise}
  * @example
  * Role.changePosition(10)
  *   .then(role => console.log(`New role: ${role}`))
  *   .catch(e => console.error(e))
  */
  async changePosition(position) {
    if (typeof position !== 'number') throw new Error('Position must be an integer');
    const url = this.client.APIManager.endpoints.ENDPOINTS_GUILDS.roles.modifyPositions(this.guild.id);
    const payload = {
      id: this.id,
      position: position
    }
    try {
      let request = await this.client.APIManager.makeRequest('patch', url, payload)
      return new Role(this.client, this.guild, request.filter(e => e.id === this.id)[0]);
    } catch (e) {
      throw e
    }
  }

}

module.exports = Role
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sat Nov 25 2017 12:30:45 GMT+0200 (Jerusalem Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
