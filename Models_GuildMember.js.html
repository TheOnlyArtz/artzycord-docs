<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Models/GuildMember.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Attachment.html">Attachment</a></li><li><a href="Box.html">Box</a><ul class='methods'><li data-type='method'><a href="Box.html#array">array</a></li><li data-type='method'><a href="Box.html#ArrayOfKeys">ArrayOfKeys</a></li><li data-type='method'><a href="Box.html#delete">delete</a></li><li data-type='method'><a href="Box.html#find">find</a></li><li data-type='method'><a href="Box.html#first">first</a></li><li data-type='method'><a href="Box.html#set">set</a></li></ul></li><li><a href="CategoryChannel.html">CategoryChannel</a></li><li><a href="Client.html">Client</a></li><li><a href="ClientUser.html">ClientUser</a><ul class='methods'><li data-type='method'><a href="ClientUser.html#setGame">setGame</a></li><li data-type='method'><a href="ClientUser.html#setStatus">setStatus</a></li></ul></li><li><a href="DMChannel.html">DMChannel</a><ul class='methods'><li data-type='method'><a href="DMChannel.html#send">send</a></li></ul></li><li><a href="EmbedMessage.html">EmbedMessage</a><ul class='methods'><li data-type='method'><a href="EmbedMessage.html#color">color</a></li><li data-type='method'><a href="EmbedMessage.html#newAuthor">newAuthor</a></li><li data-type='method'><a href="EmbedMessage.html#newDescription">newDescription</a></li><li data-type='method'><a href="EmbedMessage.html#newField">newField</a></li><li data-type='method'><a href="EmbedMessage.html#newFooter">newFooter</a></li><li data-type='method'><a href="EmbedMessage.html#newImage">newImage</a></li><li data-type='method'><a href="EmbedMessage.html#newProvider">newProvider</a></li><li data-type='method'><a href="EmbedMessage.html#newThumbnail">newThumbnail</a></li><li data-type='method'><a href="EmbedMessage.html#newTitle">newTitle</a></li><li data-type='method'><a href="EmbedMessage.html#newVideo">newVideo</a></li></ul></li><li><a href="Emoji.html">Emoji</a></li><li><a href="Game.html">Game</a></li><li><a href="GroupDM.html">GroupDM</a><ul class='methods'><li data-type='method'><a href="GroupDM.html#send">send</a></li></ul></li><li><a href="Guild.html">Guild</a><ul class='methods'><li data-type='method'><a href="Guild.html#banMember">banMember</a></li><li data-type='method'><a href="Guild.html#changeName">changeName</a></li><li data-type='method'><a href="Guild.html#createChannel">createChannel</a></li><li data-type='method'><a href="Guild.html#delete">delete</a></li><li data-type='method'><a href="Guild.html#deleteChannel">deleteChannel</a></li><li data-type='method'><a href="Guild.html#getMember">getMember</a></li><li data-type='method'><a href="Guild.html#unbanMember">unbanMember</a></li></ul></li><li><a href="GuildMember.html">GuildMember</a><ul class='methods'><li data-type='method'><a href="GuildMember.html#ban">ban</a></li><li data-type='method'><a href="GuildMember.html#toString">toString</a></li></ul></li><li><a href="GuildTextChannel.html">GuildTextChannel</a><ul class='methods'><li data-type='method'><a href="GuildTextChannel.html#send">send</a></li></ul></li><li><a href="Invite.html">Invite</a></li><li><a href="Message.html">Message</a></li><li><a href="Presence.html">Presence</a></li><li><a href="Role.html">Role</a><ul class='methods'><li data-type='method'><a href="Role.html#changeName">changeName</a></li><li data-type='method'><a href="Role.html#changePosition">changePosition</a></li><li data-type='method'><a href="Role.html#delete">delete</a></li><li data-type='method'><a href="Role.html#modify">modify</a></li></ul></li><li><a href="Structure.html">Structure</a></li><li><a href="TextBasedChannel.html">TextBasedChannel</a><ul class='methods'><li data-type='method'><a href="TextBasedChannel.html#send">send</a></li></ul></li><li><a href="User.html">User</a><ul class='methods'><li data-type='method'><a href="User.html#toString">toString</a></li></ul></li><li><a href="VoiceChannel.html">VoiceChannel</a></li></ul><h3>Events</h3><ul><li><a href="Client.html#event:Channel_Create">Channel_Create</a></li><li><a href="Client.html#event:Channel_Delete">Channel_Delete</a></li><li><a href="Client.html#event:Channel_Update">Channel_Update</a></li><li><a href="Client.html#event:Guild_Create">Guild_Create</a></li><li><a href="Client.html#event:Guild_newMember">Guild_newMember</a></li><li><a href="Client.html#event:Guild_Role_Create">Guild_Role_Create</a></li><li><a href="Client.html#event:Guild_Role_Delete">Guild_Role_Delete</a></li><li><a href="Client.html#event:Guild_Role_Update">Guild_Role_Update</a></li><li><a href="Client.html#event:Guild_Update">Guild_Update</a></li><li><a href="Client.html#event:Message_Create">Message_Create</a></li><li><a href="Client.html#event:Message_Update">Message_Update</a></li><li><a href="Client.html#event:ready">ready</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Models/GuildMember.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const User = require('./user.js');
const Structure = require('./Structure.js');
const Box = require('./Box.js')

/**
* A GuildMember class meant to control over GuildMember properties and methods
* @extends Structure A base Structure class
* @param {Object} client Artzycord's Client instance
* @param {Object} guild A valid Guild instance
* @param {Object} member A valid Guild Member data Object
* @property {String} guildID The Guild's ID
* @property {Boolean} muted Whether the member is voice muted or not
* @property {Date} joinedAt When did the member joined the guild
* @property {User} user The user instance
* @property {Boolean} deaf Whether the member is deaf or not
* @property {Box} roles The roles the member has
*/
class GuildMember extends Structure {
  constructor(client, guild, member) {
    super(client);
    Object.defineProperty(this, 'guild', {value: guild});
    Object.defineProperty(this, 'member', {value: member});
    this.guildID = guild.id;
    this.muted = member.mute;
    this.joinedAt = member.joined_at;
    this.user = this.client.users.get(member.user.id) ? this.client.users.get(member.user.id) : new User(client, member.user)
    this.deaf = member.deaf;

    this.roles = new Box;
    for (let role of member.roles) {
      this.roles.set(role, guild.roles.get(role))
    }

  }

  /**
  * @returns {String} User's mention String
  * @example
  * // Get the mention String
  * message.channel.send(`${GuildMember.toString()}`)
  * // It will mention the user too
  */
  toString() {
    return `&lt;@${this.member.user.id}>`
  }

  /**
  * Lets you ban a GuildMember
  * @param {Number} days The amount of days messages will be deleted
  * @param {String} reason The reason
  * @returns {Promise} Returns GuildMember Object (The banned member)
  * @example
  * // bans a guild member
  * GuildMember.ban(7, 'Reason, Because I can?')
  *		.then(user => console.log(`Banned ${user.username}`))
  * 	.catch(e => console.error(e));
  */  async ban(days, reason) {
    try {
      let promise = await this.guild.banMember(this.user.id, days, reason)
      return this;
    } catch (e) {
      throw e;
    }
  }

  async kick(options) {

    const payload = {
      reason : options &amp;&amp; options.reason ? options.reason : null
    }

    const guildID = this.guild.id;

    const endpoint = this.client.APIManager.endpoints
      .ENDPOINTS_GUILDS
      .members
      .remove(guildID, this.user.id);
      try {
        let res = await this.client.APIManager.makeRequest('delete', endpoint, {}, payload);
      } catch (e) {
        throw new Error(e);
      }

  }

  async changeNickname(nickname) {
      if (!nickname) {
        throw new Error('ERROR: Please supply a nickname');
      }

      let guildID = this.guild.id;

      const payload = {
        nick: nickname,
      };

      const endpoint = this.client.APIManager.endpoints
        .ENDPOINTS_GUILDS
        .members
        .modify(guildID, this.user.id);

      try {
        let res = await this.client.APIManager.makeRequest('patch', endpoint, payload);
      } catch (e) {
        throw new Error(e)
      }

  }

  async assignRole(Snowflake) {


  }

  async removeRole(Snowflake) {
  }


}

module.exports = GuildMember;
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sat Nov 25 2017 12:30:45 GMT+0200 (Jerusalem Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
